<%= render(PageTitleComponent.new(title: "Home")) %>
<%= render(Marketing::HeroComponent.new(user: current_user)) %>

<section>
  <div class="max-w-screen-xl px-4 py-8 mx-auto sm:px-6 sm:py-12 lg:px-8">
    <header>
      <h2 class="text-xl font-bold text-gray-900 sm:text-3xl">
        Latest Comics
      </h2>
      <p class="max-w-md mt-4 text-gray-500">
        Latest Comics from the indie creators form across the world!
      </p>
    </header>

    <ul class="grid gap-4 mt-4 sm:grid-cols-2 lg:grid-cols-4">
      <% @products.each do |product| %>
        <% cache product do %>
          <%= render(Products::CardComponent.new(product: product, number_of_products: 4)) %>
        <% end %>
      <% end %>
    </ul>
    <div class="my-2">
      <%= link_to "All Comics", comics_path, class: "inline-flex items-center justify-center rounded-md border border-transparent bg-cx-purple px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-800 focus:ring-offset-2 sm:w-auto" %>
    </div>
  </div>
</section>

<div class="bg-white pt-6 px-4 sm:px-6 lg:pb-8 lg:px-8">
  <div class="relative max-w-lg mx-auto lg:max-w-7xl px-8">
    <%= render(MailchimpComponent.new()) %>
    <div>
      <h2 class="text-3xl tracking-tight font-extrabold text-gray-900 sm:text-4xl">Freshly Pressed</h2>
      <p class="mt-3 text-xl text-gray-500 sm:mt-4">Articles, Interviews &amp; News from the universe of Comix!</p>
    </div>
    <div class="mt-3 grid gap-16 lg:grid-cols-3 lg:gap-x-5 lg:gap-y-12">
      <% @posts.each do |post| %>
        <% cache post do %>
          <%= render(Marketing::PostBlurbComponent.new(post: post)) %>
        <% end %>
      <% end %>
    </div>
    <div class="mt-2 pb-4 w-full">
      <%= link_to "All Posts", posts_path, class: "inline-flex items-center justify-center rounded-md border border-transparent bg-cx-purple px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-800 focus:ring-offset-2 sm:w-auto" %>
    </div>
  </div>
</div>
